@startuml
skinparam linetype ortho

skinparam component {
  BorderColor #333333
  ArrowColor #333333
}

package "Customer and Accounts" {
  component "Customer Domain" as CustomerDomain
  component "Identity Domain" as IdentityDomain
  component "Account Domain" as AccountDomain
}

package "Investing and Trading" {
  component "Portfolio Domain" as PortfolioDomain
  component "Order Domain" as OrderDomain
  component "Execution Domain" as ExecutionDomain
  component "Position Domain" as PositionDomain
}

package "Payments and Treasury" {
  component "Wallet Domain" as WalletDomain
  component "Payment Domain" as PaymentDomain
  component "Settlement Domain" as SettlementDomain
  component "Treasury Domain" as TreasuryDomain
}

package "Risk and Compliance" {
  component "Risk Domain" as RiskDomain
  component "Limit Management Domain" as LimitDomain
  component "KYC Domain" as KycDomain
  component "AML Domain" as AmlDomain
  component "Monitoring Domain" as MonitoringDomain
}

package "Data and Insights" {
  component "Market Data Domain" as MarketDataDomain
  component "Reference Data Domain" as ReferenceDataDomain
  component "Reporting Domain" as ReportingDomain
  component "Analytics Domain" as AnalyticsDomain
}

package "AI and ML" {
  component "ML Risk and VaR Domain" as MlRiskDomain
  component "Document and Identity AI Domain" as DocumentAIDomain
  component "Fraud and Anomaly Domain" as FraudAIDomain
  component "Surveillance and NLP Domain" as SurveillanceNlpDomain
}

CustomerDomain --> IdentityDomain
CustomerDomain --> AccountDomain
AccountDomain --> PositionDomain
AccountDomain --> WalletDomain

PortfolioDomain --> PositionDomain
OrderDomain --> ExecutionDomain
ExecutionDomain --> PositionDomain

WalletDomain --> PaymentDomain
PaymentDomain --> SettlementDomain
SettlementDomain --> TreasuryDomain

RiskDomain --> LimitDomain
RiskDomain --> PositionDomain
RiskDomain --> MarketDataDomain
LimitDomain --> OrderDomain

KycDomain --> CustomerDomain
AmlDomain --> PaymentDomain
MonitoringDomain --> OrderDomain
MonitoringDomain --> PaymentDomain

ReportingDomain --> AccountDomain
ReportingDomain --> PositionDomain
ReportingDomain --> PaymentDomain
ReportingDomain --> RiskDomain

AnalyticsDomain --> MarketDataDomain
AnalyticsDomain --> ReferenceDataDomain
AnalyticsDomain --> ReportingDomain

RiskDomain --> MlRiskDomain
KycDomain --> DocumentAIDomain
AmlDomain --> FraudAIDomain
MonitoringDomain --> SurveillanceNlpDomain
AnalyticsDomain --> MlRiskDomain
AnalyticsDomain --> SurveillanceNlpDomain
MlRiskDomain --> MarketDataDomain
SurveillanceNlpDomain --> MarketDataDomain

MarketDataDomain --> PortfolioDomain
ReferenceDataDomain --> AccountDomain

@enduml

