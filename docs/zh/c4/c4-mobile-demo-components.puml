@startuml c4-mobile-demo-components-zh
!define RELATIVE_INCLUDE 1
!include ../../c4-lib/C4-PlantUML/C4_Component.puml

title 移动端演示应用 - 组件图

Container_Boundary(mobile_demo, "移动端演示 (React Native)") {
    Component(tabs_router, "标签路由", "Expo Router", "首页、购物车、分类、个人")
    Component(home_screen, "首页", "React Native", "轮播、推荐商品、分类入口")
    Component(cart_screen, "购物车屏幕", "React Native", "购物车项、数量、结算")
    Component(categories_screen, "分类屏幕", "React Native", "分类列表、商品网格")
    Component(profile_screen, "个人屏幕", "React Native", "用户资料")
    Component(product_detail_screen, "商品详情", "React Native", "商品 [id]、图片轮播、加入购物车")

    Component(api_service, "ApiService", "TypeScript", "Axios 客户端、商品列表、商品详情")
    Component(product_service, "ProductService", "TypeScript", "商品、推荐、按分类")
    Component(cart_service, "CartService", "TypeScript", "购物车业务逻辑")
    Component(product_store, "Product Store", "Zustand", "商品、推荐、加载、拉取")
    Component(cart_store, "Cart Store", "Zustand", "购物车项、增删、数量")
    Component(cache_service, "Cache Service", "TypeScript", "MapCacheService、CartCacheService")

    Component(carousel, "Carousel", "React Native", "首屏轮播")
    Component(product_card, "ProductCard", "React Native", "商品卡片")
    Component(cart_item, "CartItem", "React Native", "购物车行、数量选择")
    Component(category_selector, "CategorySelector", "React Native", "分类选择")
    Component(price_display, "PriceDisplay", "React Native", "价格展示")
    Component(quantity_selector, "QuantitySelector", "React Native", "数量 +/-")
    Component(product_image_carousel, "ProductImageCarousel", "React Native", "商品图轮播")
    Component(themed_view, "ThemedView / ThemedText", "React Native", "主题 UI")

    Component(api_constants, "ApiConstants", "TypeScript", "Base URL、端点、超时")
    Component(app_config, "App Config", "TypeScript", "apiUrl、环境")
    Component(theme, "Theme", "TypeScript", "Colors、Spacing、Shadow")
}

Container_Ext(backend_api, "后端 API", "REST", "商品、购物车、订单")

Rel(tabs_router, home_screen, "路由到", "")
Rel(tabs_router, cart_screen, "路由到", "")
Rel(tabs_router, categories_screen, "路由到", "")
Rel(tabs_router, profile_screen, "路由到", "")
Rel(home_screen, product_detail_screen, "跳转", "")

Rel(home_screen, product_store, "使用", "")
Rel(home_screen, carousel, "使用", "")
Rel(home_screen, product_card, "使用", "")
Rel(categories_screen, product_store, "使用", "")
Rel(categories_screen, category_selector, "使用", "")
Rel(categories_screen, product_card, "使用", "")
Rel(cart_screen, cart_store, "使用", "")
Rel(cart_screen, cart_item, "使用", "")
Rel(product_detail_screen, product_store, "使用", "fetchProductById")
Rel(product_detail_screen, cart_store, "使用", "加入购物车")
Rel(product_detail_screen, product_image_carousel, "使用", "")
Rel(product_detail_screen, quantity_selector, "使用", "")

Rel(product_store, product_service, "调用", "")
Rel(product_service, api_service, "使用", "")
Rel(product_service, cache_service, "使用", "")
Rel(api_service, api_constants, "使用", "")
Rel(api_service, backend_api, "HTTP", "REST")
Rel(cart_store, cache_service, "使用", "CartCacheService")

Rel(product_card, price_display, "使用", "")
Rel(cart_item, quantity_selector, "使用", "")
Rel(api_constants, app_config, "使用", "")

@enduml
