@startuml c4-containers
!define RELATIVE_INCLUDE 1
!include ../../c4-lib/C4-PlantUML/C4_Container.puml

title FinPulse Fintech Platform - Container (Module) Diagram

Person(investor, "Investor", "Portfolio and market analysis")

System_Boundary(finpulse, "FinPulse") {
    Container(web_app, "Web App", "Angular 21", "Financial analytics console: portfolio, market trends, risk, transactions")
    Container(mobile_portfolio, "Mobile Portfolio", "Expo + React Native", "Portfolio app: stocks, real-time quotes, native charts")
    Container(mobile_demo, "Mobile Demo", "React Native", "Demo app and native chart showcase")
    Container(portfolio_api, "Portfolio Analytics API", "FastAPI", "REST API, WebSocket, AI/ML (in payments, trades, customers, risk-metrics), blockchain; portfolio, market data, risk, analytics, digital currency")
    ContainerDb(timescale, "TimescaleDB", "PostgreSQL + TimescaleDB", "Portfolio metadata and history hypertable")
    ContainerDb(redis, "Redis", "In-memory", "History, portfolio aggregate, blockchain read cache")
    ContainerQueue(kafka, "Kafka", "Event streaming", "portfolio.events, market.quotes.enriched")
}

Container_Ext(market_api, "Market Data API", "External", "Third-party market data")
Container_Ext(vercel, "Vercel", "Hosting", "Web deployment and analytics")

Rel(investor, web_app, "Uses", "HTTPS")
Rel(investor, mobile_portfolio, "Uses", "HTTPS / WebSocket")
Rel(web_app, portfolio_api, "API calls", "REST / WebSocket")
Rel(mobile_portfolio, portfolio_api, "API calls", "REST / WebSocket")
Rel(mobile_demo, portfolio_api, "API calls", "REST")
Rel(portfolio_api, timescale, "Reads and writes", "SQL / asyncpg")
Rel(portfolio_api, redis, "Cache", "Redis protocol")
Rel(portfolio_api, kafka, "Publishes and consumes", "Kafka")
Rel(portfolio_api, market_api, "Fetches quotes", "REST")
Rel(web_app, vercel, "Hosted on", "Vercel")

@enduml
