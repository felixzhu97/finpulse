@startuml business-architecture
!define BUSINESS_ACTOR #E8F4F8
!define BUSINESS_PROCESS #FFF4E6
!define BUSINESS_SERVICE #E8F5E9

skinparam component {
    BackgroundColor<<Actor>> BUSINESS_ACTOR
    BackgroundColor<<Process>> BUSINESS_PROCESS
    BackgroundColor<<Service>> BUSINESS_SERVICE
    BorderColor #333333
    ArrowColor #333333
}

title TOGAF Business Architecture - FinPulse Fintech Platform

package "Business Actors" {
    component "Investor" as Investor <<Actor>>
    component "Platform Admin" as Admin <<Actor>>

    note right of Investor
        <b>Primary actors</b>
        - Individual investors
        - Institutional investors
        - Investment advisors
    end note

    note right of Admin
        <b>Platform management</b>
        - System maintenance
        - Content management
        - User support
    end note
}

package "Core Business Domains" {
    component "Portfolio Management" as PortfolioMgmt <<Process>>
    component "Market Analysis" as MarketAnalysis <<Process>>
    component "Risk Management" as RiskMgmt <<Process>>
    component "Transaction Management" as TransactionMgmt <<Process>>
    component "Digital Currency (Simulation)" as DigitalCurrencyMgmt <<Process>>
    component "Asset Management" as AssetMgmt <<Process>>
    component "Watchlist Management" as WatchListMgmt <<Process>>
    component "Bond Analysis" as BondAnalysis <<Process>>
    component "Options Pricing" as OptionsPricing <<Process>>
    component "Portfolio Optimization" as PortfolioOptimization <<Process>>
    component "Statistical Analysis" as StatisticalAnalysis <<Process>>
    component "Technical Indicators" as TechnicalIndicators <<Process>>
    component "Valuation Analysis" as ValuationAnalysis <<Process>>
    component "Data Visualization" as DataVisualization <<Process>>
    component "Big Data Analytics" as BigDataAnalytics <<Process>>

    note right of PortfolioMgmt
        <b>Capabilities</b>
        - NAV monitoring
        - Return statistics
        - Position management
        - Allocation optimization
    end note

    note right of MarketAnalysis
        <b>Capabilities</b>
        - Market trend analysis
        - Real-time quotes
        - Market tracking
        - Price alerts
    end note

    note right of RiskMgmt
        <b>Capabilities</b>
        - Risk metrics
        - Risk distribution
        - Risk alerts
        - Risk reporting
    end note

    note right of BondAnalysis
        <b>Capabilities</b>
        - Yield (YTM)
        - Duration (Macaulay/Modified)
        - Convexity
        - Bond valuation
    end note

    note right of OptionsPricing
        <b>Capabilities</b>
        - Black-Scholes
        - Binomial model
        - Greeks (Delta/Gamma/Theta/Vega/Rho)
        - Implied volatility
    end note

    note right of PortfolioOptimization
        <b>Capabilities</b>
        - Markowitz optimization
        - Efficient frontier
        - Max Sharpe ratio
        - Weight constraints
    end note

    note right of StatisticalAnalysis
        <b>Capabilities</b>
        - Correlation
        - CAPM
        - Fama-French
        - Regression
    end note

    note right of TechnicalIndicators
        <b>Capabilities</b>
        - Moving averages (MA/EMA)
        - Momentum (RSI/MACD)
        - Volatility
        - Volume indicators
    end note

    note right of ValuationAnalysis
        <b>Capabilities</b>
        - DCF
        - Relative valuation
        - DDM
        - Valuation reports
    end note

    note right of DataVisualization
        <b>Capabilities</b>
        - Candlestick charts
        - Trend charts
        - Heatmaps
        - Radar/dashboard
    end note

    note right of BigDataAnalytics
        <b>Capabilities</b>
        - Spark batch
        - Flink streaming
        - Hadoop storage
        - Large-scale processing
        - Real-time streams
    end note

    note right of DigitalCurrencyMgmt
        <b>Capabilities</b>
        - Simulated chain (blocks, transactions)
        - Wallet balances by account and currency
        - Transfer submission and balance query
    end note
}

package "Business Services" {
    component "Portfolio Service" as PortfolioService <<Service>>
    component "Market Data Service" as MarketService <<Service>>
    component "Risk Analysis Service" as RiskService <<Service>>
    component "Transaction Service" as TransactionService <<Service>>
    component "Calculation Service" as CalculationService <<Service>>
    component "Visualization Service" as VisualizationService <<Service>>
    component "Cloud Service" as CloudService <<Service>>
    component "Big Data Service" as BigDataService <<Service>>
    component "Blockchain Service" as BlockchainService <<Service>>

    note right of PortfolioService
        Portfolio-related
        business services
    end note

    note right of MarketService
        Market data
        business services
    end note

    note right of CalculationService
        Financial calculations
        - Returns
        - Risk
        - Formatting
    end note

    note right of VisualizationService
        Data visualization
        - Chart rendering
        - Formatting
        - Themes
    end note

    note right of CloudService
        AWS cloud
        - S3, DynamoDB
        - Lambda, SQS, SNS
        - API Gateway
    end note

    note right of BigDataService
        Big data services
        - Spark session
        - Flink jobs
        - HDFS, YARN
    end note

    note right of BlockchainService
        Blockchain simulation
        - Ledger and wallet persistence
        - Transfer and balance API
    end note
}

Investor --> PortfolioMgmt
Investor --> MarketAnalysis
Investor --> RiskMgmt
Investor --> TransactionMgmt
Investor --> DigitalCurrencyMgmt
Investor --> AssetMgmt
Investor --> WatchListMgmt
Investor --> BondAnalysis
Investor --> OptionsPricing
Investor --> PortfolioOptimization
Investor --> StatisticalAnalysis
Investor --> TechnicalIndicators
Investor --> ValuationAnalysis
Investor --> DataVisualization
Investor --> BigDataAnalytics

Admin --> PortfolioMgmt
Admin --> MarketAnalysis
Admin --> RiskMgmt
Admin --> CloudService
Admin --> BigDataAnalytics

PortfolioMgmt --> PortfolioService
AssetMgmt --> PortfolioService
WatchListMgmt --> PortfolioService

MarketAnalysis --> MarketService
WatchListMgmt --> MarketService

RiskMgmt --> RiskService
PortfolioMgmt --> RiskService

TransactionMgmt --> TransactionService
DigitalCurrencyMgmt --> BlockchainService

BondAnalysis --> CalculationService
OptionsPricing --> CalculationService
PortfolioOptimization --> CalculationService
StatisticalAnalysis --> CalculationService
TechnicalIndicators --> CalculationService
ValuationAnalysis --> CalculationService
PortfolioMgmt --> CalculationService

DataVisualization --> VisualizationService
MarketAnalysis --> VisualizationService
PortfolioMgmt --> VisualizationService

BigDataAnalytics --> BigDataService

PortfolioService --> CloudService
MarketService --> CloudService
RiskService --> CloudService
TransactionService --> CloudService
BlockchainService --> CloudService
CalculationService --> CloudService
BigDataService --> CloudService

PortfolioMgmt ..> RiskMgmt : risk assessment
MarketAnalysis ..> PortfolioMgmt : investment advice
AssetMgmt ..> PortfolioMgmt : allocation
TransactionMgmt ..> PortfolioMgmt : trade updates
BondAnalysis ..> PortfolioMgmt : bond positions
OptionsPricing ..> PortfolioMgmt : option positions
PortfolioOptimization ..> PortfolioMgmt : optimization
StatisticalAnalysis ..> PortfolioMgmt : statistics
TechnicalIndicators ..> MarketAnalysis : signals
ValuationAnalysis ..> PortfolioMgmt : valuation
DataVisualization ..> PortfolioMgmt : visualization
MarketAnalysis ..> BigDataAnalytics : insights
TransactionMgmt ..> BigDataAnalytics : patterns
BigDataAnalytics ..> PortfolioMgmt : insights
BigDataAnalytics ..> RiskMgmt : patterns
BigDataAnalytics ..> StatisticalAnalysis : analytics

legend right
    |<#E8F4F8> Business Actors |
    |<#FFF4E6> Business Domains |
    |<#E8F5E9> Business Services |
    |
    <b>Relations</b>
    --> direct link
    ..> process dependency
endlegend

@enduml
